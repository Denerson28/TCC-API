using api.Domain.DTOs;
using api.Infra.Data;
using api.Services;
using api.Services.Interfaces;
using Microsoft.EntityFrameworkCore;


namespace ApiTest.Services
{
    [TestFixture]
    public class PdfFileServiceTest
    {
        private ApplicationDbContext _context;
        private IPublishService _pdfFileService;
        private DbContextOptions<ApplicationDbContext> _options;


        [SetUp]
        public void Setup()
        {
            _options = new DbContextOptionsBuilder<ApplicationDbContext>()
                .UseInMemoryDatabase(databaseName: "FakeDatabase")
                .Options;

            _context = new ApplicationDbContext(_options);
            _pdfFileService = new PublishService(_context);
        }

        [TearDown]
        public void TearDown()
        {
            _context.Dispose();
        }


        [Test]
        public async Task Upload_ShouldSavePdfToDatabaseAsync()
        {
            // Arrange
            string directoryPath = AppDomain.CurrentDomain.BaseDirectory;
            string content = @"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";
            var pdf = new PublishDTO("TestFile", content, "Description", new Guid());

            // Act
            await _pdfFileService.Upload(pdf);

            // Assert
            var savedPdf = await _context.Publishes.FirstOrDefaultAsync();
            Assert.NotNull(savedPdf);
            Assert.That(savedPdf.Name, Is.EqualTo("TestFile"));


        }
    }
}
